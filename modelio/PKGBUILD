# Maintainer: Evgeny Cherkashin <eugeneai@irnok.net>
pkgname=modelio
pkgmajorver=3.7
pkgminorver=0
pkgver=${pkgmajorver}.${pkgminorver}
pkgrel=1
pkgdesc="The opensource modeling environment"
arch=('i686' 'x86_64')
url="https://www.modelio.org/"
license=('GPL3')
# groups=()
depends=('libxtst' 'libstdc++5' 'webkitgtk2' 'glib2' 'java-runtime')
optdepends=('atk' 'gtk2' 'cairo')
makedepends=('subversion' 'maven' 'java-environment')
provides=("${pkgname%-VCS}")
conflicts=("modelio-bin")
#replaces=()
#backup=()
#options=()
#install=
source=("${pkgname}-src::svn+http://forge.modelio.org/svn/modelio3-development-app/branches/modelio${pkgmajorver}/")
noextract=()
md5sums=('SKIP')

# Please refer to the 'USING VCS SOURCES' section of the PKGBUILD man page for
# a description of each element in the source array.

# pkgver() {
# 	# cd "$srcdir/${pkgname}"
# 	# printf "r%s" "$(svnversion | tr -d 'A-z')"
# }

prepare() {
	cd "$srcdir/${pkgname}"
	# patch -p1 -i "$srcdir/${pkgname%-VCS}.patch"
}

build() {
	cd "$srcdir/${pkgname}/AGGREGATOR"
    mvn package
}

check() {
	cd "$srcdir/${pkgname}"
}

package() {
	cd "$srcdir/${pkgname}"
	#make DESTDIR="$pkgdir/" install
}
